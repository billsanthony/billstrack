// Function to show random performances for the new tab
async function showNewTabPerformances() {
    try {
        // Add authentication check
        const user = firebase.auth().currentUser;
        if (user) {
            // User is signed in
            console.log('User is signed in:', user.uid);

            // Fetch athletes from the backend
            await fetchAthletes();
        } else {
            // No user is signed in
            console.log('No user is signed in');
        }

        const randomAthlete = generateNewTabRandomAthlete();

        const performanceList = document.getElementById('performanceList');
        performanceList.innerHTML = '';

        const performanceTableBody = document.getElementById('performanceTableBody');
        performanceTableBody.innerHTML = '';

        // Display in a table
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${randomAthlete.name}</td>
            <td>${randomAthlete.performance.metric}</td>
            <td>${randomAthlete.performance.value}</td>
        `;
        performanceTableBody.appendChild(row);
    } catch (error) {
        console.error('Error showing new tab performances:', error);
    }
}

// Function to fetch athletes from the backend
const fetchAthletes = async () => {
    try {
        const response = await fetch('/api/athletes'); // Update with your backend endpoint
        const data = await response.json();
        console.log('Fetched athletes:', data);
    } catch (error) {
        console.error('Error fetching athletes:', error.message);
    }
};
